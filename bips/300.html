<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>300 | Bitcoin Docs</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="apple-touch-icon" sizes="180x180" href="bitcoin.png">
    <link rel="icon" type="image/png" sizes="32x32" href="bitcoin.png">
    <link rel="icon" type="image/png" sizes="16x16" href="bitcoin.png">
    <link rel="mask-icon" href="bitcoin.png" color="#3a0839">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="icon" href="bitcoin.png">
    <meta name="description" content="">
    <meta name="theme-color" content="#ff7e00">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/bitcoindocs/assets/css/0.styles.6b9516dd.css" as="style"><link rel="preload" href="/bitcoindocs/assets/js/app.c31d8641.js" as="script"><link rel="preload" href="/bitcoindocs/assets/js/2.b78a9106.js" as="script"><link rel="preload" href="/bitcoindocs/assets/js/78.782695f1.js" as="script"><link rel="prefetch" href="/bitcoindocs/assets/js/10.68a64a6d.js"><link rel="prefetch" href="/bitcoindocs/assets/js/100.bd554273.js"><link rel="prefetch" href="/bitcoindocs/assets/js/101.df38dcc3.js"><link rel="prefetch" href="/bitcoindocs/assets/js/102.3bf2a9d4.js"><link rel="prefetch" href="/bitcoindocs/assets/js/103.d879654a.js"><link rel="prefetch" href="/bitcoindocs/assets/js/104.fcff9e3b.js"><link rel="prefetch" href="/bitcoindocs/assets/js/105.324f3006.js"><link rel="prefetch" href="/bitcoindocs/assets/js/106.b8b3ca20.js"><link rel="prefetch" href="/bitcoindocs/assets/js/107.4a9863c3.js"><link rel="prefetch" href="/bitcoindocs/assets/js/108.e93a5196.js"><link rel="prefetch" href="/bitcoindocs/assets/js/109.e770824e.js"><link rel="prefetch" href="/bitcoindocs/assets/js/11.f67301bd.js"><link rel="prefetch" href="/bitcoindocs/assets/js/110.72ba2ba4.js"><link rel="prefetch" href="/bitcoindocs/assets/js/111.a33eb12f.js"><link rel="prefetch" href="/bitcoindocs/assets/js/112.ecf1c295.js"><link rel="prefetch" href="/bitcoindocs/assets/js/113.85f94e5b.js"><link rel="prefetch" href="/bitcoindocs/assets/js/114.c79655f2.js"><link rel="prefetch" href="/bitcoindocs/assets/js/115.3940b629.js"><link rel="prefetch" href="/bitcoindocs/assets/js/116.9ead4ccc.js"><link rel="prefetch" href="/bitcoindocs/assets/js/117.d4b75110.js"><link rel="prefetch" href="/bitcoindocs/assets/js/118.87575c0c.js"><link rel="prefetch" href="/bitcoindocs/assets/js/119.65af5cbd.js"><link rel="prefetch" href="/bitcoindocs/assets/js/12.fc1e786f.js"><link rel="prefetch" href="/bitcoindocs/assets/js/120.99826b18.js"><link rel="prefetch" href="/bitcoindocs/assets/js/121.608c453c.js"><link rel="prefetch" href="/bitcoindocs/assets/js/122.b24765eb.js"><link rel="prefetch" href="/bitcoindocs/assets/js/123.64680142.js"><link rel="prefetch" href="/bitcoindocs/assets/js/124.4b4f9bc2.js"><link rel="prefetch" href="/bitcoindocs/assets/js/125.0e07a49d.js"><link rel="prefetch" href="/bitcoindocs/assets/js/126.be3bae0f.js"><link rel="prefetch" href="/bitcoindocs/assets/js/127.3d041c50.js"><link rel="prefetch" href="/bitcoindocs/assets/js/128.5feda1e3.js"><link rel="prefetch" href="/bitcoindocs/assets/js/129.307399ad.js"><link rel="prefetch" href="/bitcoindocs/assets/js/13.47ba1b02.js"><link rel="prefetch" href="/bitcoindocs/assets/js/130.0659f005.js"><link rel="prefetch" href="/bitcoindocs/assets/js/131.69a612f3.js"><link rel="prefetch" href="/bitcoindocs/assets/js/132.b51e17e2.js"><link rel="prefetch" href="/bitcoindocs/assets/js/133.7bb492d9.js"><link rel="prefetch" href="/bitcoindocs/assets/js/134.0f7e8787.js"><link rel="prefetch" href="/bitcoindocs/assets/js/135.e2504a16.js"><link rel="prefetch" href="/bitcoindocs/assets/js/136.8b6c7216.js"><link rel="prefetch" href="/bitcoindocs/assets/js/137.e38fc5b2.js"><link rel="prefetch" href="/bitcoindocs/assets/js/138.095843e4.js"><link rel="prefetch" href="/bitcoindocs/assets/js/139.4a5e77fb.js"><link rel="prefetch" href="/bitcoindocs/assets/js/14.42b93c7a.js"><link rel="prefetch" href="/bitcoindocs/assets/js/140.f517d934.js"><link rel="prefetch" href="/bitcoindocs/assets/js/141.7a6497c0.js"><link rel="prefetch" href="/bitcoindocs/assets/js/142.8ae1c029.js"><link rel="prefetch" href="/bitcoindocs/assets/js/143.2fadb8ac.js"><link rel="prefetch" href="/bitcoindocs/assets/js/144.a64d8f22.js"><link rel="prefetch" href="/bitcoindocs/assets/js/145.1b1fa851.js"><link rel="prefetch" href="/bitcoindocs/assets/js/146.a59efe37.js"><link rel="prefetch" href="/bitcoindocs/assets/js/147.a0a8fc92.js"><link rel="prefetch" href="/bitcoindocs/assets/js/148.e177254d.js"><link rel="prefetch" href="/bitcoindocs/assets/js/149.88223d18.js"><link rel="prefetch" href="/bitcoindocs/assets/js/15.cdd298ba.js"><link rel="prefetch" href="/bitcoindocs/assets/js/150.c07e2220.js"><link rel="prefetch" href="/bitcoindocs/assets/js/151.843c50f7.js"><link rel="prefetch" href="/bitcoindocs/assets/js/152.4f34674a.js"><link rel="prefetch" href="/bitcoindocs/assets/js/153.c2ba1434.js"><link rel="prefetch" href="/bitcoindocs/assets/js/154.dec4842c.js"><link rel="prefetch" href="/bitcoindocs/assets/js/155.ecd7b99f.js"><link rel="prefetch" href="/bitcoindocs/assets/js/156.55d078d3.js"><link rel="prefetch" href="/bitcoindocs/assets/js/157.44501232.js"><link rel="prefetch" href="/bitcoindocs/assets/js/158.79220932.js"><link rel="prefetch" href="/bitcoindocs/assets/js/159.33765ed3.js"><link rel="prefetch" href="/bitcoindocs/assets/js/16.4c7eeecf.js"><link rel="prefetch" href="/bitcoindocs/assets/js/160.ea470a70.js"><link rel="prefetch" href="/bitcoindocs/assets/js/161.2dc38d81.js"><link rel="prefetch" href="/bitcoindocs/assets/js/162.a27303c6.js"><link rel="prefetch" href="/bitcoindocs/assets/js/163.31e293c1.js"><link rel="prefetch" href="/bitcoindocs/assets/js/164.fca747d6.js"><link rel="prefetch" href="/bitcoindocs/assets/js/165.52456cdd.js"><link rel="prefetch" href="/bitcoindocs/assets/js/166.c2464f79.js"><link rel="prefetch" href="/bitcoindocs/assets/js/167.25467097.js"><link rel="prefetch" href="/bitcoindocs/assets/js/168.92664946.js"><link rel="prefetch" href="/bitcoindocs/assets/js/169.df73d115.js"><link rel="prefetch" href="/bitcoindocs/assets/js/17.b107683f.js"><link rel="prefetch" href="/bitcoindocs/assets/js/170.08fb6e7e.js"><link rel="prefetch" href="/bitcoindocs/assets/js/171.ba749017.js"><link rel="prefetch" href="/bitcoindocs/assets/js/172.c92581cb.js"><link rel="prefetch" href="/bitcoindocs/assets/js/173.1fce2c58.js"><link rel="prefetch" href="/bitcoindocs/assets/js/174.34c08943.js"><link rel="prefetch" href="/bitcoindocs/assets/js/175.0f3c7a0d.js"><link rel="prefetch" href="/bitcoindocs/assets/js/176.36c2e712.js"><link rel="prefetch" href="/bitcoindocs/assets/js/177.15027195.js"><link rel="prefetch" href="/bitcoindocs/assets/js/178.a42c47f3.js"><link rel="prefetch" href="/bitcoindocs/assets/js/179.e9af4276.js"><link rel="prefetch" href="/bitcoindocs/assets/js/18.608ae665.js"><link rel="prefetch" href="/bitcoindocs/assets/js/180.48a51584.js"><link rel="prefetch" href="/bitcoindocs/assets/js/181.cc255bc5.js"><link rel="prefetch" href="/bitcoindocs/assets/js/182.64362e5e.js"><link rel="prefetch" href="/bitcoindocs/assets/js/183.256b3077.js"><link rel="prefetch" href="/bitcoindocs/assets/js/184.3139561e.js"><link rel="prefetch" href="/bitcoindocs/assets/js/185.5af948dd.js"><link rel="prefetch" href="/bitcoindocs/assets/js/19.8b76fc9c.js"><link rel="prefetch" href="/bitcoindocs/assets/js/20.122a4ef0.js"><link rel="prefetch" href="/bitcoindocs/assets/js/21.1f8a8820.js"><link rel="prefetch" href="/bitcoindocs/assets/js/22.eb68688b.js"><link rel="prefetch" href="/bitcoindocs/assets/js/23.9e751fd9.js"><link rel="prefetch" href="/bitcoindocs/assets/js/24.72ecb396.js"><link rel="prefetch" href="/bitcoindocs/assets/js/25.ad100f49.js"><link rel="prefetch" href="/bitcoindocs/assets/js/26.654fcf2f.js"><link rel="prefetch" href="/bitcoindocs/assets/js/27.fdb46ea9.js"><link rel="prefetch" href="/bitcoindocs/assets/js/28.b28d1103.js"><link rel="prefetch" href="/bitcoindocs/assets/js/29.979a7705.js"><link rel="prefetch" href="/bitcoindocs/assets/js/3.0ccb3eb1.js"><link rel="prefetch" href="/bitcoindocs/assets/js/30.27ab6b09.js"><link rel="prefetch" href="/bitcoindocs/assets/js/31.0b51055d.js"><link rel="prefetch" href="/bitcoindocs/assets/js/32.e5d3f476.js"><link rel="prefetch" href="/bitcoindocs/assets/js/33.5325af50.js"><link rel="prefetch" href="/bitcoindocs/assets/js/34.6cc1e8e6.js"><link rel="prefetch" href="/bitcoindocs/assets/js/35.4f93edf4.js"><link rel="prefetch" href="/bitcoindocs/assets/js/36.56c4b763.js"><link rel="prefetch" href="/bitcoindocs/assets/js/37.d7fc3cc3.js"><link rel="prefetch" href="/bitcoindocs/assets/js/38.ba47e0be.js"><link rel="prefetch" href="/bitcoindocs/assets/js/39.a4948230.js"><link rel="prefetch" href="/bitcoindocs/assets/js/4.f750dbd8.js"><link rel="prefetch" href="/bitcoindocs/assets/js/40.13f04ebc.js"><link rel="prefetch" href="/bitcoindocs/assets/js/41.efba2874.js"><link rel="prefetch" href="/bitcoindocs/assets/js/42.71cd6fcf.js"><link rel="prefetch" href="/bitcoindocs/assets/js/43.3dd10508.js"><link rel="prefetch" href="/bitcoindocs/assets/js/44.0e0f5018.js"><link rel="prefetch" href="/bitcoindocs/assets/js/45.4e467a20.js"><link rel="prefetch" href="/bitcoindocs/assets/js/46.fbc682be.js"><link rel="prefetch" href="/bitcoindocs/assets/js/47.79e3cde6.js"><link rel="prefetch" href="/bitcoindocs/assets/js/48.36d1a4f2.js"><link rel="prefetch" href="/bitcoindocs/assets/js/49.5c861a4e.js"><link rel="prefetch" href="/bitcoindocs/assets/js/5.8f3d1a69.js"><link rel="prefetch" href="/bitcoindocs/assets/js/50.0c7609ac.js"><link rel="prefetch" href="/bitcoindocs/assets/js/51.6497b8ba.js"><link rel="prefetch" href="/bitcoindocs/assets/js/52.6fef223e.js"><link rel="prefetch" href="/bitcoindocs/assets/js/53.dc5dd169.js"><link rel="prefetch" href="/bitcoindocs/assets/js/54.560108ca.js"><link rel="prefetch" href="/bitcoindocs/assets/js/55.a09c65a8.js"><link rel="prefetch" href="/bitcoindocs/assets/js/56.f7f7c539.js"><link rel="prefetch" href="/bitcoindocs/assets/js/57.3b3dfb34.js"><link rel="prefetch" href="/bitcoindocs/assets/js/58.1048b51d.js"><link rel="prefetch" href="/bitcoindocs/assets/js/59.01f56552.js"><link rel="prefetch" href="/bitcoindocs/assets/js/6.ea542132.js"><link rel="prefetch" href="/bitcoindocs/assets/js/60.1e424058.js"><link rel="prefetch" href="/bitcoindocs/assets/js/61.6d4493b3.js"><link rel="prefetch" href="/bitcoindocs/assets/js/62.849c30d7.js"><link rel="prefetch" href="/bitcoindocs/assets/js/63.0c6aaa64.js"><link rel="prefetch" href="/bitcoindocs/assets/js/64.0d99b925.js"><link rel="prefetch" href="/bitcoindocs/assets/js/65.d60db57e.js"><link rel="prefetch" href="/bitcoindocs/assets/js/66.c6c02735.js"><link rel="prefetch" href="/bitcoindocs/assets/js/67.c0c64c59.js"><link rel="prefetch" href="/bitcoindocs/assets/js/68.99f833eb.js"><link rel="prefetch" href="/bitcoindocs/assets/js/69.88769157.js"><link rel="prefetch" href="/bitcoindocs/assets/js/7.474d9a1c.js"><link rel="prefetch" href="/bitcoindocs/assets/js/70.0a746051.js"><link rel="prefetch" href="/bitcoindocs/assets/js/71.9847fc9b.js"><link rel="prefetch" href="/bitcoindocs/assets/js/72.8e04fa9b.js"><link rel="prefetch" href="/bitcoindocs/assets/js/73.772916a2.js"><link rel="prefetch" href="/bitcoindocs/assets/js/74.9663297b.js"><link rel="prefetch" href="/bitcoindocs/assets/js/75.66154da0.js"><link rel="prefetch" href="/bitcoindocs/assets/js/76.358626cf.js"><link rel="prefetch" href="/bitcoindocs/assets/js/77.8eafda69.js"><link rel="prefetch" href="/bitcoindocs/assets/js/79.99523f6b.js"><link rel="prefetch" href="/bitcoindocs/assets/js/8.7a9d23a8.js"><link rel="prefetch" href="/bitcoindocs/assets/js/80.2c556ea8.js"><link rel="prefetch" href="/bitcoindocs/assets/js/81.b70d3d0d.js"><link rel="prefetch" href="/bitcoindocs/assets/js/82.f0c621cf.js"><link rel="prefetch" href="/bitcoindocs/assets/js/83.13117f68.js"><link rel="prefetch" href="/bitcoindocs/assets/js/84.2361b62a.js"><link rel="prefetch" href="/bitcoindocs/assets/js/85.e8f23ad0.js"><link rel="prefetch" href="/bitcoindocs/assets/js/86.eab303cd.js"><link rel="prefetch" href="/bitcoindocs/assets/js/87.a547f760.js"><link rel="prefetch" href="/bitcoindocs/assets/js/88.3c748686.js"><link rel="prefetch" href="/bitcoindocs/assets/js/89.6b7de962.js"><link rel="prefetch" href="/bitcoindocs/assets/js/9.6e1ca0bd.js"><link rel="prefetch" href="/bitcoindocs/assets/js/90.0907331e.js"><link rel="prefetch" href="/bitcoindocs/assets/js/91.fe47eeeb.js"><link rel="prefetch" href="/bitcoindocs/assets/js/92.f4c67fe3.js"><link rel="prefetch" href="/bitcoindocs/assets/js/93.efdc2e47.js"><link rel="prefetch" href="/bitcoindocs/assets/js/94.b7862723.js"><link rel="prefetch" href="/bitcoindocs/assets/js/95.06e410a5.js"><link rel="prefetch" href="/bitcoindocs/assets/js/96.0cc67031.js"><link rel="prefetch" href="/bitcoindocs/assets/js/97.b9460d90.js"><link rel="prefetch" href="/bitcoindocs/assets/js/98.0689894c.js"><link rel="prefetch" href="/bitcoindocs/assets/js/99.f18fe9ac.js">
    <link rel="stylesheet" href="/bitcoindocs/assets/css/0.styles.6b9516dd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bitcoindocs/" class="home-link router-link-active"><!----> <span class="site-name">Bitcoin Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/bitcoindocs/whitepaper/" class="nav-link">
  Whitepaper
</a></div><div class="nav-item"><a href="/bitcoindocs/releases/" class="nav-link">
  Releases
</a></div><div class="nav-item"><a href="/bitcoindocs/bips/" class="nav-link router-link-active">
  BIPs
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/bitcoindocs/whitepaper/" class="nav-link">
  Whitepaper
</a></div><div class="nav-item"><a href="/bitcoindocs/releases/" class="nav-link">
  Releases
</a></div><div class="nav-item"><a href="/bitcoindocs/bips/" class="nav-link router-link-active">
  BIPs
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>BIPs</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bitcoindocs/bips/" aria-current="page" class="sidebar-link">Bitcoin Improvement Proposals</a></li><li><a href="/bitcoindocs/bips/1.html" class="sidebar-link">1</a></li><li><a href="/bitcoindocs/bips/2.html" class="sidebar-link">2</a></li><li><a href="/bitcoindocs/bips/8.html" class="sidebar-link">8</a></li><li><a href="/bitcoindocs/bips/9.html" class="sidebar-link">9</a></li><li><a href="/bitcoindocs/bips/16.html" class="sidebar-link">16</a></li><li><a href="/bitcoindocs/bips/32.html" class="sidebar-link">32</a></li><li><a href="/bitcoindocs/bips/39.html" class="sidebar-link">39</a></li><li><a href="/bitcoindocs/bips/42.html" class="sidebar-link">42</a></li><li><a href="/bitcoindocs/bips/43.html" class="sidebar-link">43</a></li><li><a href="/bitcoindocs/bips/44.html" class="sidebar-link">44</a></li><li><a href="/bitcoindocs/bips/45.html" class="sidebar-link">45</a></li><li><a href="/bitcoindocs/bips/47.html" class="sidebar-link">47</a></li><li><a href="/bitcoindocs/bips/49.html" class="sidebar-link">49</a></li><li><a href="/bitcoindocs/bips/50.html" class="sidebar-link">50</a></li><li><a href="/bitcoindocs/bips/60.html" class="sidebar-link">60</a></li><li><a href="/bitcoindocs/bips/61.html" class="sidebar-link">61</a></li><li><a href="/bitcoindocs/bips/62.html" class="sidebar-link">62</a></li><li><a href="/bitcoindocs/bips/64.html" class="sidebar-link">64</a></li><li><a href="/bitcoindocs/bips/65.html" class="sidebar-link">65</a></li><li><a href="/bitcoindocs/bips/66.html" class="sidebar-link">66</a></li><li><a href="/bitcoindocs/bips/67.html" class="sidebar-link">67</a></li><li><a href="/bitcoindocs/bips/68.html" class="sidebar-link">68</a></li><li><a href="/bitcoindocs/bips/69.html" class="sidebar-link">69</a></li><li><a href="/bitcoindocs/bips/70.html" class="sidebar-link">70</a></li><li><a href="/bitcoindocs/bips/71.html" class="sidebar-link">71</a></li><li><a href="/bitcoindocs/bips/72.html" class="sidebar-link">72</a></li><li><a href="/bitcoindocs/bips/73.html" class="sidebar-link">73</a></li><li><a href="/bitcoindocs/bips/74.html" class="sidebar-link">74</a></li><li><a href="/bitcoindocs/bips/75.html" class="sidebar-link">75</a></li><li><a href="/bitcoindocs/bips/78.html" class="sidebar-link">78</a></li><li><a href="/bitcoindocs/bips/79.html" class="sidebar-link">79</a></li><li><a href="/bitcoindocs/bips/80.html" class="sidebar-link">80</a></li><li><a href="/bitcoindocs/bips/81.html" class="sidebar-link">81</a></li><li><a href="/bitcoindocs/bips/83.html" class="sidebar-link">83</a></li><li><a href="/bitcoindocs/bips/84.html" class="sidebar-link">84</a></li><li><a href="/bitcoindocs/bips/85.html" class="sidebar-link">85</a></li><li><a href="/bitcoindocs/bips/90.html" class="sidebar-link">90</a></li><li><a href="/bitcoindocs/bips/91.html" class="sidebar-link">91</a></li><li><a href="/bitcoindocs/bips/98.html" class="sidebar-link">98</a></li><li><a href="/bitcoindocs/bips/99.html" class="sidebar-link">99</a></li><li><a href="/bitcoindocs/bips/100.html" class="sidebar-link">100</a></li><li><a href="/bitcoindocs/bips/101.html" class="sidebar-link">101</a></li><li><a href="/bitcoindocs/bips/102.html" class="sidebar-link">102</a></li><li><a href="/bitcoindocs/bips/103.html" class="sidebar-link">103</a></li><li><a href="/bitcoindocs/bips/104.html" class="sidebar-link">104</a></li><li><a href="/bitcoindocs/bips/105.html" class="sidebar-link">105</a></li><li><a href="/bitcoindocs/bips/106.html" class="sidebar-link">106</a></li><li><a href="/bitcoindocs/bips/107.html" class="sidebar-link">107</a></li><li><a href="/bitcoindocs/bips/109.html" class="sidebar-link">109</a></li><li><a href="/bitcoindocs/bips/111.html" class="sidebar-link">111</a></li><li><a href="/bitcoindocs/bips/112.html" class="sidebar-link">112</a></li><li><a href="/bitcoindocs/bips/113.html" class="sidebar-link">113</a></li><li><a href="/bitcoindocs/bips/114.html" class="sidebar-link">114</a></li><li><a href="/bitcoindocs/bips/115.html" class="sidebar-link">115</a></li><li><a href="/bitcoindocs/bips/116.html" class="sidebar-link">116</a></li><li><a href="/bitcoindocs/bips/117.html" class="sidebar-link">117</a></li><li><a href="/bitcoindocs/bips/118.html" class="sidebar-link">118</a></li><li><a href="/bitcoindocs/bips/119.html" class="sidebar-link">119</a></li><li><a href="/bitcoindocs/bips/120.html" class="sidebar-link">120</a></li><li><a href="/bitcoindocs/bips/121.html" class="sidebar-link">121</a></li><li><a href="/bitcoindocs/bips/122.html" class="sidebar-link">122</a></li><li><a href="/bitcoindocs/bips/123.html" class="sidebar-link">123</a></li><li><a href="/bitcoindocs/bips/124.html" class="sidebar-link">124</a></li><li><a href="/bitcoindocs/bips/125.html" class="sidebar-link">125</a></li><li><a href="/bitcoindocs/bips/126.html" class="sidebar-link">126</a></li><li><a href="/bitcoindocs/bips/127.html" class="sidebar-link">127</a></li><li><a href="/bitcoindocs/bips/130.html" class="sidebar-link">130</a></li><li><a href="/bitcoindocs/bips/131.html" class="sidebar-link">131</a></li><li><a href="/bitcoindocs/bips/132.html" class="sidebar-link">132</a></li><li><a href="/bitcoindocs/bips/133.html" class="sidebar-link">133</a></li><li><a href="/bitcoindocs/bips/134.html" class="sidebar-link">134</a></li><li><a href="/bitcoindocs/bips/135.html" class="sidebar-link">135</a></li><li><a href="/bitcoindocs/bips/136.html" class="sidebar-link">136</a></li><li><a href="/bitcoindocs/bips/137.html" class="sidebar-link">137</a></li><li><a href="/bitcoindocs/bips/140.html" class="sidebar-link">140</a></li><li><a href="/bitcoindocs/bips/141.html" class="sidebar-link">141</a></li><li><a href="/bitcoindocs/bips/142.html" class="sidebar-link">142</a></li><li><a href="/bitcoindocs/bips/143.html" class="sidebar-link">143</a></li><li><a href="/bitcoindocs/bips/144.html" class="sidebar-link">144</a></li><li><a href="/bitcoindocs/bips/145.html" class="sidebar-link">145</a></li><li><a href="/bitcoindocs/bips/146.html" class="sidebar-link">146</a></li><li><a href="/bitcoindocs/bips/147.html" class="sidebar-link">147</a></li><li><a href="/bitcoindocs/bips/148.html" class="sidebar-link">148</a></li><li><a href="/bitcoindocs/bips/149.html" class="sidebar-link">149</a></li><li><a href="/bitcoindocs/bips/150.html" class="sidebar-link">150</a></li><li><a href="/bitcoindocs/bips/151.html" class="sidebar-link">151</a></li><li><a href="/bitcoindocs/bips/152.html" class="sidebar-link">152</a></li><li><a href="/bitcoindocs/bips/154.html" class="sidebar-link">154</a></li><li><a href="/bitcoindocs/bips/155.html" class="sidebar-link">155</a></li><li><a href="/bitcoindocs/bips/156.html" class="sidebar-link">156</a></li><li><a href="/bitcoindocs/bips/157.html" class="sidebar-link">157</a></li><li><a href="/bitcoindocs/bips/158.html" class="sidebar-link">158</a></li><li><a href="/bitcoindocs/bips/159.html" class="sidebar-link">159</a></li><li><a href="/bitcoindocs/bips/171.html" class="sidebar-link">171</a></li><li><a href="/bitcoindocs/bips/173.html" class="sidebar-link">173</a></li><li><a href="/bitcoindocs/bips/174.html" class="sidebar-link">174</a></li><li><a href="/bitcoindocs/bips/175.html" class="sidebar-link">175</a></li><li><a href="/bitcoindocs/bips/176.html" class="sidebar-link">176</a></li><li><a href="/bitcoindocs/bips/178.html" class="sidebar-link">178</a></li><li><a href="/bitcoindocs/bips/179.html" class="sidebar-link">179</a></li><li><a href="/bitcoindocs/bips/180.html" class="sidebar-link">180</a></li><li><a href="/bitcoindocs/bips/197.html" class="sidebar-link">197</a></li><li><a href="/bitcoindocs/bips/199.html" class="sidebar-link">199</a></li><li><a href="/bitcoindocs/bips/300.html" aria-current="page" class="active sidebar-link">300</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bitcoindocs/bips/300.html#abstract" class="sidebar-link">Abstract</a></li><li class="sidebar-sub-header"><a href="/bitcoindocs/bips/300.html#motivation" class="sidebar-link">Motivation</a></li><li class="sidebar-sub-header"><a href="/bitcoindocs/bips/300.html#specification" class="sidebar-link">Specification</a></li><li class="sidebar-sub-header"><a href="/bitcoindocs/bips/300.html#backward-compatibility-backward-compatibility" class="sidebar-link">Backward compatibility {#backward_compatibility}</a></li><li class="sidebar-sub-header"><a href="/bitcoindocs/bips/300.html#deployment" class="sidebar-link">Deployment</a></li><li class="sidebar-sub-header"><a href="/bitcoindocs/bips/300.html#reference-implementation-reference-implementation" class="sidebar-link">Reference Implementation {#reference_implementation}</a></li><li class="sidebar-sub-header"><a href="/bitcoindocs/bips/300.html#references" class="sidebar-link">References</a></li><li class="sidebar-sub-header"><a href="/bitcoindocs/bips/300.html#credits" class="sidebar-link">Credits</a></li><li class="sidebar-sub-header"><a href="/bitcoindocs/bips/300.html#copyright" class="sidebar-link">Copyright</a></li></ul></li><li><a href="/bitcoindocs/bips/301.html" class="sidebar-link">301</a></li><li><a href="/bitcoindocs/bips/310.html" class="sidebar-link">310</a></li><li><a href="/bitcoindocs/bips/320.html" class="sidebar-link">320</a></li><li><a href="/bitcoindocs/bips/322.html" class="sidebar-link">322</a></li><li><a href="/bitcoindocs/bips/325.html" class="sidebar-link">325</a></li><li><a href="/bitcoindocs/bips/339.html" class="sidebar-link">339</a></li><li><a href="/bitcoindocs/bips/340.html" class="sidebar-link">340</a></li><li><a href="/bitcoindocs/bips/341.html" class="sidebar-link">341</a></li><li><a href="/bitcoindocs/bips/342.html" class="sidebar-link">342</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_300"><a href="#_300" class="header-anchor">#</a> 300</h1> <div class="language- extra-class"><pre><code>  BIP: 300
  Layer: Consensus (soft fork)
  Title: Hashrate Escrows (Consensus layer)
  Author: Paul Sztorc &lt;truthcoin@gmail.com&gt;
          CryptAxe &lt;cryptaxe@gmail.com&gt;
  Comments-Summary: No comments yet.
  Comments-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-0300
  Status: Draft
  Type: Standards Track
  Created: 2017-08-14
  License: BSD-2-Clause
  Post-History: https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-May/014364.html
</code></pre></div><h2 id="abstract"><a href="#abstract" class="header-anchor">#</a> Abstract</h2> <p>A &quot;Hashrate Escrow&quot; is a clearer term for the concept of &quot;locked to
an SPV Proof&quot;, which is itself a restatement of the phrase &quot;within a
sidechain&quot; as described in <a href="https://blockstream.com/sidechains.pdf" target="_blank" rel="noopener noreferrer">the 2014 Blockstream
whitepaper<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>A Hashrate Escrow resembles a 2-of-3 multisig escrow, where the 3rd
party (who will arbitrate any disputes) is a decentralized group of
people: the dynamic-membership set of Bitcoin Miners. However, the 3rd
party does not sign escrow-withdrawal transactions with a private key.
Instead, these are &quot;signed&quot; by the accumulation of hashpower over
time.</p> <p>This project has <a href="http://www.drivechain.info/" target="_blank" rel="noopener noreferrer">a website<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> which includes
<a href="http://www.drivechain.info/faq/index.html" target="_blank" rel="noopener noreferrer">an FAQ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="motivation"><a href="#motivation" class="header-anchor">#</a> Motivation</h2> <p>In practice these escrows are likely to be &quot;asymmetric sidechains&quot; of
Bitcoin (such as <a href="http://www.rsk.co/" target="_blank" rel="noopener noreferrer">Rootstock<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>) or &quot;virtual chains&quot;
within Bitcoin (such as <a href="https://github.com/blockstack/virtualchain" target="_blank" rel="noopener noreferrer">proposed by
Blockstack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> in mid-2016).</p> <p>Sidechains have many potential benefits, including:</p> <ol><li>Protect Bitcoin from competition from altcoins and spinoffs.</li> <li>Protect Bitcoin from hard fork campaigns. (Such campaigns represent
an existential threat to Bitcoin, as well as an avenue for developer
corruption.)</li> <li>Help with review, by making it much easier for reviewers to ignore
bad ideas.</li> <li>Provide an avenue for good-but-confusing ideas to prove their value
safely.</li></ol> <h2 id="specification"><a href="#specification" class="header-anchor">#</a> Specification</h2> <h4 id="components"><a href="#components" class="header-anchor">#</a> Components</h4> <p>Hashrate Escrows are built of two types of component: [1] new
databases, and [2] new message-interpretations.</p> <h5 id="_1-new-databases-new-databases"><a href="#_1-new-databases-new-databases" class="header-anchor">#</a> 1. New Databases {#new_databases}</h5> <ul><li>D1. &quot;Escrow_DB&quot; -- a database of &quot;accounts&quot; and their
attributes.</li> <li>D2. &quot;Withdrawal_DB&quot; -- a database of pending withdrawals from
these accounts, and their statuses.</li></ul> <p>Please note that these structures (D1 and D2) will not literally exist
anywhere in the blockchain. Instead they are constructed from
messages...these messages, in contrast, *will* exist in the
blockchain (with the exception of M4).</p> <h5 id="_2-new-messages-new-messages"><a href="#_2-new-messages-new-messages" class="header-anchor">#</a> 2. New Messages {#new_messages}</h5> <ul><li>M1. &quot;Propose New Escrow&quot;</li> <li>M2. &quot;ACK Escrow Proposal&quot;</li> <li>M3. &quot;Propose Withdrawal&quot;</li> <li>M4. (implied) &quot;ACK Withdrawal&quot;</li> <li>M5. &quot;Execute Deposit&quot; -- a transfer of BTC from-main-to-side</li> <li>M6. &quot;Execute Withdrawal&quot; -- a transfer of BTC from-side-to-main</li></ul> <h3 id="adding-sidechains-d1-m1-m2-adding-sidechains-d1-m1-m2"><a href="#adding-sidechains-d1-m1-m2-adding-sidechains-d1-m1-m2" class="header-anchor">#</a> Adding Sidechains (D1, M1, M2) {#adding_sidechains_d1_m1_m2}</h3> <h4 id="d1-escrow-db-d1-escrow-db"><a href="#d1-escrow-db-d1-escrow-db" class="header-anchor">#</a> D1 -- &quot;Escrow_DB&quot; {#d1____escrow_db}</h4> <p>The table below enumerates the new database fields, their size in bytes,
and their purpose. In general, an escrow designer (for example, a
sidechain-designer), is free to choose any value for these.</p> <p>Field No.   Label                           Type      Description / Purpose</p> <hr> <p>1           Escrow Number                   uint8_t   A number assigned to the entire escrow. Used to make it easy to refer to each escrow.
2           Sidechain Deposit Script Hex    string    The script that will be deposited to, and update the CTIP of the sidechain.
3           Sidechain Private Key           string    The private key of the sidechain deposit script.
4           Escrow Name                     string    A human-readable name of the sidechain.
5           Escrow Description              string    A human-readable name description of the sidechain. More than enough space to hold a 32 byte hash.
6           Hash ID 1                       uint256   A field of 32 bytes, which could be any bytes such as a sha256 hash.
7           Hash ID 2                       uint256   A field of 32 bytes, which could be any bytes such as a sha256 hash.
8           &quot;CTIP&quot; -- Part 1 &quot;TxID&quot;    uint256   The CTIP, or &quot;Critical (TxID, Index) Pair&quot; is a variable for keeping track of where the escrow's money is (ie, which member of the UTXO set).
9           &quot;CTIP&quot; -- Part 2 &quot;Index&quot;   int32_t   Of the CTIP, this is second element of the pair: the Index. See #9 above.</p> <p>D1 is updated via M1 and M2.</p> <p>( The following messages were modeled on SegWit -- see
<a href="https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#commitment-structure" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
and
<a href="https://github.com/DriveNetTESTDRIVE/DriveNet/blob/564516653c1d876429382971a011f5f6119f7eb4/src/validation.cpp#L3348-L3375" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
)</p> <h4 id="m1-propose-new-sidechain-m1-propose-new-sidechain"><a href="#m1-propose-new-sidechain-m1-propose-new-sidechain" class="header-anchor">#</a> M1 -- &quot;Propose New Sidechain&quot; {#m1____propose_new_sidechain}</h4> <p><code>1-byte - OP_RETURN (0x6a)</code><br> <code>4-byte - Commitment header (0xD5E0C4AF)</code><br> <code>N-byte - The serialization of the sidechain.</code></p> <h4 id="m2-ack-sidechain-proposal-m2-ack-sidechain-proposal"><a href="#m2-ack-sidechain-proposal-m2-ack-sidechain-proposal" class="header-anchor">#</a> M2 -- &quot;ACK Sidechain Proposal&quot; {#m2____ack_sidechain_proposal}</h4> <p><code>1-byte - OP_RETURN (0x6a)</code><br> <code>4-byte - Commitment header (0xD6E1C5BF)</code><br> <code>32-byte - Commitment hash: sha256D hash of sidechain's serialization</code></p> <h4 id="new-block-validation-rules-new-block-validation-rules"><a href="#new-block-validation-rules-new-block-validation-rules" class="header-anchor">#</a> New Block Validation Rules {#new_block_validation_rules}</h4> <ol><li>Escrows are added in a procedure that resembles BIP 9 soft fork
activation: the network must see a properly-formatted M1, followed
by &quot;acknowledgment&quot; of the sidechain in 95% of the following 2016
blocks.</li> <li>It is possible to &quot;overwrite&quot; an escrow. This requires 6 months
(26298 blocks) of M2s, instead of 2 weeks (XXXX). This possibility
does not change the security assumptions (because we already assume
that users perform extra-protocolic validation at a rate of 1 bit
per 26298 blocks).</li></ol> <h3 id="withdrawing-from-escrows-d2-m3-m4-withdrawing-from-escrows-d2-m3-m4"><a href="#withdrawing-from-escrows-d2-m3-m4-withdrawing-from-escrows-d2-m3-m4" class="header-anchor">#</a> Withdrawing from Escrows (D2, M3, M4) {#withdrawing_from_escrows_d2_m3_m4}</h3> <h4 id="d2-withdrawal-db-d2-withdrawal-db"><a href="#d2-withdrawal-db-d2-withdrawal-db" class="header-anchor">#</a> D2 -- &quot;Withdrawal_DB&quot; {#d2____withdrawal_db}</h4> <p>D2 changes deterministically with respect to M3, M4, M5, and M6.</p> <p>Field No.   Label                    Type       Description / Purpose</p> <hr> <p>1           Escrow Number            uint8_t    Links the withdrawal-request to a specific escrow.
2           WT^ Hash                uint256    This is a &quot;blinded transaction id&quot; (ie, the double-Sha256 of a txn that has had two fields zeroed out, see M6) of a withdrawal-attempt.
3           ACKs (Work Score)        uint16_t   The current total number of ACKs (PoW)
4           Blocks Remaining (Age)   uint16_t   The number of blocks which this WT^ has remaining to accumulate ACKs</p> <h4 id="new-block-validation-rules-for-d2-new-block-validation-rules-for-d2"><a href="#new-block-validation-rules-for-d2-new-block-validation-rules-for-d2" class="header-anchor">#</a> New Block Validation Rules for D2 {#new_block_validation_rules_for_d2}</h4> <ol><li>A hash commitment to D2 exists in each block (even if D2 is blank).</li> <li>Withdrawals in D2 are sorted first by field #1 (Escrow Number) and
second by field #4 (Age). This imposes a unique sort.</li> <li>From one block to the next, &quot;Age&quot; fields must increase by
exactly 1.</li> <li>Withdrawals are stored in D2 until they fail (&quot;Age&quot; = &quot;MaxAge&quot;),
or they succeed (the blockchain contains a txn whose blinded txID
matches &quot;WT^&quot;).</li></ol> <p>In addition, there are special rules for the &quot;ACKs&quot; field (see M4
below).</p> <h4 id="m3-propose-withdrawal-m3-propose-withdrawal"><a href="#m3-propose-withdrawal-m3-propose-withdrawal" class="header-anchor">#</a> M3 -- &quot;Propose Withdrawal&quot; {#m3____propose_withdrawal}</h4> <p><code>1-byte - OP_RETURN (0x6a)</code><br> <code>1-byte - Push the following 36 bytes (0x24)</code><br> <code>4-byte - Commitment header (0xD45AA943)</code><br> <code>32-byte - The WT^ hash to populate a new D2 entry</code></p> <h4 id="new-block-validation-rules-for-m3-new-block-validation-rules-for-m3"><a href="#new-block-validation-rules-for-m3-new-block-validation-rules-for-m3" class="header-anchor">#</a> New Block Validation Rules for M3 {#new_block_validation_rules_for_m3}</h4> <ol><li>If the network detects a properly-formatted M3, it must add an entry
to D2 in the very next block. The starting values of fields #3 and
#4 are zero, and #5 is pulled over by extracting the relevant
value from D1.</li> <li>Each block can only contain one M3 per sidechain.</li></ol> <h4 id="m4-ack-withdrawal-m4-ack-withdrawal"><a href="#m4-ack-withdrawal-m4-ack-withdrawal" class="header-anchor">#</a> M4 -- &quot;ACK Withdrawal&quot; {#m4____ack_withdrawal}</h4> <p>M4 is a way of describing changes to the &quot;ACKs&quot; column of D2.</p> <p>From one block to the next, &quot;ACKs&quot; can only change as follows:</p> <ul><li>The ACK-counter of any withdrawal can only change by (-1,0,+1).</li> <li>Within a sidechain-group, upvoting one withdrawal (&quot;+1&quot;) requires
you to downvote all other withdrawals in that group. However, the
minimum ACK-value is zero (and, therefore, downvotes cannot reduce
it below zero).</li> <li>While only one withdrawal can be upvoted at once, they can all be
unchanged at once (&quot;abstain&quot;) and they can all be downvoted at
once (&quot;alarm&quot;).</li></ul> <p>One option for explicit transmission of M4 is:</p> <p><code>4-byte - Message identifier (0x????????)</code><br> <code>1-byte - Version of this message</code><br> <code>1-byte - Length (in bytes) of this message; total number of withdrawal attempts; y = ceiling( sum_i(m_i +2)/8 ). Nodes should already know what length to expect, because they know the sequence of M3s and therefore the vector of WT^s.</code><br> <code>N-byte - stream of bits (not bytes), with a 1 indicating the position of the chosen action [downvote all, abstain, upvote1, upvote2, ...]</code></p> <p>But sometimes M4 does not need to be transmitted at all! If there are n
Escrows and m Withdrawals-per-escrow, then there are (m+2)^n total
candidates for the next D2. So, when m and n are low, all of the
possible D2s can be trivially computed in advance.</p> <p>Miners can impose a &quot;soft limit&quot; on m, blocking new
withdrawal-attempts until previous ones expire. For a worst-case
scenario of n=200 and m=1,000, honest nodes can communicate M4 with ~25
KB per block [4+1+1+(200\*(1000+1+1)/8)].</p> <h3 id="depositing-and-withdrawing-m5-m6-depositing-and-withdrawing-m5-m6"><a href="#depositing-and-withdrawing-m5-m6-depositing-and-withdrawing-m5-m6" class="header-anchor">#</a> Depositing and Withdrawing (M5, M6) {#depositing_and_withdrawing_m5_m6}</h3> <p>Both M5 and M6 are regular Bitcoin txns. They are identified by meeting
an important criteria: they select a one of the Critical TxID-index
Pairs (a &quot;CTIP&quot;) as one of their inputs.</p> <p>Just as these txns must select a CTIP input, they must create a new CTIP
output. D1 is then updated to match only the latest CTIP output. The
purpose of this is to have all of the escrow's money (ie all of the
sidechain's money) in one TxID, so that depositors immediately undo any
UTXO bloat they may cause.</p> <p>Deposits (&quot;M5&quot;) are distinguished from withdrawals (&quot;M6&quot;) by simply
checking to see if money is &quot;going in&quot;, or &quot;out&quot;.</p> <p><a href="https://github.com/DriveNetTESTDRIVE/DriveNet/blob/564516653c1d876429382971a011f5f6119f7eb4/src/validation.cpp#L647-L742" target="_blank" rel="noopener noreferrer">https://github.com/DriveNetTESTDRIVE/DriveNet/blob/564516653c1d876429382971a011f5f6119f7eb4/src/validation.cpp#L647-L742<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="m5-make-a-deposit-a-transfer-of-btc-from-main-to-side-m5-make-a-deposit-a-transfer-of-btc-from-main-to-side"><a href="#m5-make-a-deposit-a-transfer-of-btc-from-main-to-side-m5-make-a-deposit-a-transfer-of-btc-from-main-to-side" class="header-anchor">#</a> M5. &quot;Make a Deposit&quot; -- a transfer of BTC from-main-to-side {#m5._make_a_deposit____a_transfer_of_btc_from_main_to_side}</h4> <p>As far as mainchain consensus is concerned, deposits to the escrow are
always valid.</p> <p>However, in practice there will be additional requirements. The escrow
account (ie the &quot;sidechain&quot;) needs to know how to credit depositors.
One well-known method, is for mainchain depositors to append a
zero-value OP Return to a Deposit txn, so that the sidechain knows how
to credit funds. Mainchain users must upgrade their wallet software, of
course, (on an individual basis) in order to become aware of and take
advantage of new deposit-methods.</p> <h4 id="m6-execute-withdrawal-a-transfer-of-btc-from-side-to-main-m6-execute-withdrawal-a-transfer-of-btc-from-side-to-main"><a href="#m6-execute-withdrawal-a-transfer-of-btc-from-side-to-main-m6-execute-withdrawal-a-transfer-of-btc-from-side-to-main" class="header-anchor">#</a> M6. &quot;Execute Withdrawal&quot; -- a transfer of BTC from-side-to-main {#m6._execute_withdrawal____a_transfer_of_btc_from_side_to_main}</h4> <p>We come, finally, to the critical matter: where users can take their
money *out* of the escrow account, and return it to the &quot;regular&quot;
UTXO set. As previously mentioned, this txn is one which (a) spends from
a CTIP and (b) reduces the quantity of BTC in an account's CTIP. Most
of the work has already been done by D1, M3, M4, and D2. Furthermore,
existing Bitcoin tx-rules prevent the sidechain from ever withdrawing
more money than has been placed into it.</p> <p>In each block, a withdrawal in D2 is considered &quot;approved&quot; if its
&quot;ACKs&quot; value meets the threshold (13,150).</p> <p>Approved withdrawals give the green light to their respective &quot;WT^&quot;.
A &quot;WT^&quot; is 32-bytes which aspire to represent the withdrawing
transaction (the txn that actually withdraws funds from the escrow). The
two cannot match exactly, because &quot;WT^&quot; is defined at onset, and the
withdrawing TxID depends on the its CTIP input (which is constantly
changing).</p> <p>To solve this, we define a &quot;blinded TxID&quot; as a way of hashing a txn,
in which some bytes are first overwritten with zeros. Specifically,
these bytes are the first input and the first output.</p> <p>So, withdrawals must meet the following three criteria:</p> <ol><li>&quot;Be ACKed&quot; -- The &quot;blinded TxID&quot; of this txn must be member of
the &quot;approved candidate&quot; set in the D2 of this block.</li> <li>&quot;Return Change to Account&quot; -- TxOut0 must pay to the &quot;critical
account&quot; (see D1) that corresponds to the CTIP that was selected as
a TxIn.</li> <li>&quot;Return *all* Change to Account&quot; -- Sum of inputs must equal
the sum of outputs. No traditional tx fee is possible.</li></ol> <h2 id="backward-compatibility-backward-compatibility"><a href="#backward-compatibility-backward-compatibility" class="header-anchor">#</a> Backward compatibility {#backward_compatibility}</h2> <p>As a soft fork, older software will continue to operate without
modification. Non-upgraded nodes will see a number of phenomena that
they don't understand -- coinbase txns with non-txn data, value
accumulating in anyone-can-spend UTXOs for months at a time, and then
random amounts leaving the UTXO in single, infrequent bursts. However,
these phenomena don't affect them, or the validity of the money that
they receive.</p> <p>( As a nice bonus, note that the sidechains themselves inherit a
resistance to hard forks. The only way to guarantee that the WT^s
reported by different clients will continue to match identically, is to
upgrade sidechains via soft forks of themselves. )</p> <h2 id="deployment"><a href="#deployment" class="header-anchor">#</a> Deployment</h2> <p>This BIP will be deployed by &quot;version bits&quot; BIP9 with the name
&quot;hrescrow&quot; and using bit 4.</p> <div class="language- extra-class"><pre><code>// Deployment of Drivechains (BIPX, BIPY)
consensus.vDeployments[Consensus::DEPLOYMENT_DRIVECHAINS].bit = 4;
consensus.vDeployments[Consensus::DEPLOYMENT_DRIVECHAINS].nStartTime = 1579072881; // January 15th, 2020.
consensus.vDeployments[Consensus::DEPLOYMENT_DRIVECHAINS].nTimeout = 1610695281; // January 15th, 2021.
</code></pre></div><h2 id="reference-implementation-reference-implementation"><a href="#reference-implementation-reference-implementation" class="header-anchor">#</a> Reference Implementation {#reference_implementation}</h2> <p>See: <a href="https://github.com/DriveNetTESTDRIVE/DriveNet" target="_blank" rel="noopener noreferrer">https://github.com/DriveNetTESTDRIVE/DriveNet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Also, for interest, see an example sidechain here:
<a href="https://github.com/drivechain-project/bitcoin/tree/sidechainBMM" target="_blank" rel="noopener noreferrer">https://github.com/drivechain-project/bitcoin/tree/sidechainBMM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <p>See <a href="http://www.drivechain.info/literature/index.html" target="_blank" rel="noopener noreferrer">http://www.drivechain.info/literature/index.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="credits"><a href="#credits" class="header-anchor">#</a> Credits</h2> <p>Thanks to everyone who contributed to the discussion, especially:
ZmnSCPxj, Adam Back, Peter Todd, Dan Anderson, Sergio Demian Lerner,
Chris Stewart, Matt Corallo, Sjors Provoost, Tier Nolan, Erik Aronesty,
Jason Dreyzehner, Joe Miyamoto, Ben Goldhaber.</p> <h2 id="copyright"><a href="#copyright" class="header-anchor">#</a> Copyright</h2> <p>This BIP is licensed under the BSD 2-clause license.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/bitcoindocs/bips/199.html" class="prev">
        199
      </a></span> <span class="next"><a href="/bitcoindocs/bips/301.html">
        301
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/bitcoindocs/assets/js/app.c31d8641.js" defer></script><script src="/bitcoindocs/assets/js/2.b78a9106.js" defer></script><script src="/bitcoindocs/assets/js/78.782695f1.js" defer></script>
  </body>
</html>
