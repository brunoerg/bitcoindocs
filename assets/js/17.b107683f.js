(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{393:function(e,t,a){"use strict";a.r(t);var i=a(43),n=Object(i.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"_104"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_104"}},[e._v("#")]),e._v(" 104")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("  BIP: 104\n  Layer: Consensus (hard fork)\n  Title: 'Block75' - Max block size like difficulty\n  Author: t.khan <teekhan42@gmail.com>\n  Comments-Summary: No comments yet.\n  Comments-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-0104\n  Status: Rejected\n  Type: Standards Track\n  Created: 2017-01-13\n  License: BSD-2-Clause\n           GNU-All-Permissive\n")])])]),a("h2",{attrs:{id:"abstract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#abstract"}},[e._v("#")]),e._v(" Abstract")]),e._v(" "),a("p",[e._v("Automatic adjustment of max block size with the target of keeping blocks\n75% full, based on the average block size of the previous 2016 blocks.\nThis would be done on the same schedule as difficulty.")]),e._v(" "),a("h2",{attrs:{id:"motivation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#motivation"}},[e._v("#")]),e._v(" Motivation")]),e._v(" "),a("p",[e._v("Blocks are already too full and cannot support further transaction\ngrowth. While SegWit and Lightning (and other off-chain solutions) will\nhelp, they will not solve this problem.")]),e._v(" "),a("p",[e._v("Bitcoin needs a reasonably effective and predictable way of managing the\nmaximum block size which allows moderate growth, keeps max block size as\nsmall as possible, and prevents wild swings in transaction fees.")]),e._v(" "),a("p",[e._v("The every two-week and automatic adjustment of difficulty has proven to\nbe a reasonably effective and predictable way of managing how quickly\nblocks are mined. It works well because humans aren't involved (except\nfor setting the original target of a 10 minute per block average), and\ntherefore it isn't political or contentious. It's simply a response to\nchanging network resources.")]),e._v(" "),a("p",[e._v("It's clear at this point that human beings should not be involved in the\ndetermination of max block size, just as they're not involved in\ndeciding the difficulty. Therefore, it is logical and consistent with\nBitcoin's design to implement a permanent solution which, as with the\ndifficulty adjustment, is simply an automatic response to changing\ntransaction volumes. With the target of keeping blocks 75% full on\naverage, this is the goal of Block75.")]),e._v(" "),a("h2",{attrs:{id:"specification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("The max block size will be recalculated every 2016 blocks, along with\ndifficulty, using Block75's simple algorithm:")]),e._v(" "),a("p",[a("code",[e._v("new max block size = x + (x * (AVERAGE_CAPACITY - TARGET_CAPACITY))")])]),e._v(" "),a("ul",[a("li",[e._v("TARGET_CAPACITY = 0.75    //Block75's target of keeping blocks 75%\nfull")]),e._v(" "),a("li",[e._v("AVERAGE_CAPACITY = average percentage full of the last 2016 blocks,\nas a decimal")]),e._v(" "),a("li",[e._v("x = current max block size")])]),e._v(" "),a("p",[e._v("All code which generates/validates blocks or uses/references the current\nhardcoded limits will need to be changed to support Block75.")]),e._v(" "),a("h2",{attrs:{id:"rationale"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rationale"}},[e._v("#")]),e._v(" Rationale")]),e._v(" "),a("p",[e._v("The 75% full block target was selected because:")]),e._v(" "),a("ul",[a("li",[e._v("it is the middle ground between blocks being too small (average 100%\nfull) and blocks being unnecessarily large (average 50% full)")]),e._v(" "),a("li",[e._v("it can handle short-term spikes in transaction volume of up to 33%")]),e._v(" "),a("li",[e._v("it limits the growth of max block size to less than 25% over the\nprevious period")]),e._v(" "),a("li",[e._v("it will maintain average transaction fees at a stable level similar\nto that of May/June 2016")])]),e._v(" "),a("p",[e._v("The 2016 block (~2 weeks) period was selected because:")]),e._v(" "),a("ul",[a("li",[e._v("it has been shown to be reasonably adaptive to changing network\nresources (re: difficulty)")]),e._v(" "),a("li",[e._v("the frequent and gradual adjustments that result will be relatively\neasy for miners and node operators to predict and adapt to, as any\nunforeseen consequences will be visible well in advance")]),e._v(" "),a("li",[e._v("it minimizes any effect a malicious party could have in an attempt\nto manipulate max block size")])]),e._v(" "),a("p",[e._v("The Block75 algorithm will adjust the max block size up and down in\nresponse to transaction volume, including changes brought on by SegWit\nand Lightning. This is important as it will keep average transaction\nfees stable, thereby allowing miners and businesses using Bitcoin more\ncertainty regarding future income/expenses.")]),e._v(" "),a("h2",{attrs:{id:"other-solutions-considered-other-solutions-considered"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#other-solutions-considered-other-solutions-considered"}},[e._v("#")]),e._v(" Other solutions considered {#other_solutions_considered}")]),e._v(" "),a("p",[e._v("A hardcoded increase to max block size (2MB, 8MB, etc.), rejected\nbecause:")]),e._v(" "),a("ul",[a("li",[e._v("only a temporary solution, whatever limit was chosen would\ninevitably become a problem again")]),e._v(" "),a("li",[e._v("would cause transaction fees to vary wildly over time")])]),e._v(" "),a("p",[e._v("Allow miners to vote for max block size, rejected because:")]),e._v(" "),a("ul",[a("li",[e._v("overly complex and political")]),e._v(" "),a("li",[e._v("human involvement makes this slow to respond to changing transaction\nvolumes")]),e._v(" "),a("li",[e._v("focuses power over max block size to a relatively small group of\npeople")]),e._v(" "),a("li",[e._v("unpredictable transaction fees caused by this would create\nuncertainty in the ecosystem")])]),e._v(" "),a("h2",{attrs:{id:"backward-compatibility-backward-compatibility"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#backward-compatibility-backward-compatibility"}},[e._v("#")]),e._v(" Backward Compatibility {#backward_compatibility}")]),e._v(" "),a("p",[e._v("This BIP is not backward compatible (hard fork). Any code which fully\nvalidates blocks must be upgraded prior to activation, as failure to do\nso will result in rejection of blocks over the current 1MB limit.")]),e._v(" "),a("h2",{attrs:{id:"activation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#activation"}},[e._v("#")]),e._v(" Activation")]),e._v(" "),a("p",[e._v("To help negate some of the risks associated with a hard fork and to\nprevent a single relatively small mining pool from preventing Block75's\nadoption, activation would occur at the next difficulty adjustment once\n900 of the last 1,000 blocks mined signal support and a grace period of\n4,032 blocks (~1 month) has elapsed.")]),e._v(" "),a("h2",{attrs:{id:"copyright"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#copyright"}},[e._v("#")]),e._v(" Copyright")]),e._v(" "),a("p",[e._v("This BIP is dual-licensed under the BSD 2-clause license and the GNU\nAll-Permissive License.")])])}),[],!1,null,null,null);t.default=n.exports}}]);