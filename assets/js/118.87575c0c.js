(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{492:function(e,t,i){"use strict";i.r(t);var a=i(43),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("h1",{attrs:{id:"_84"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_84"}},[e._v("#")]),e._v(" 84")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v("  BIP: 84\n  Layer: Applications\n  Title: Derivation scheme for P2WPKH based accounts\n  Author: Pavol Rusnak <stick@satoshilabs.com>\n  Comments-Summary: No comments yet.\n  Comments-URI: https://github.com/bitcoin/bips/wiki/Comments:BIP-0084\n  Status: Draft\n  Type: Informational\n  Created: 2017-12-28\n  License: CC0-1.0\n")])])]),i("h2",{attrs:{id:"abstract"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#abstract"}},[e._v("#")]),e._v(" Abstract")]),e._v(" "),i("p",[e._v("This BIP defines the derivation scheme for HD wallets using the P2WPKH\n("),i("a",{attrs:{href:"bip-0173.mediawiki",title:"wikilink"}},[e._v("BIP 173")]),e._v(") serialization format for\nsegregated witness transactions.")]),e._v(" "),i("h2",{attrs:{id:"motivation"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#motivation"}},[e._v("#")]),e._v(" Motivation")]),e._v(" "),i("p",[e._v("With the usage of P2WPKH transactions it is necessary to have a common\nderivation scheme. It allows the user to use different HD wallets with\nthe same masterseed and/or a single account seamlessly.")]),e._v(" "),i("p",[e._v("Thus the user needs to create dedicated segregated witness accounts,\nwhich ensures that only wallets compatible with this BIP will detect the\naccounts and handle them appropriately.")]),e._v(" "),i("h3",{attrs:{id:"considerations"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#considerations"}},[e._v("#")]),e._v(" Considerations")]),e._v(" "),i("p",[e._v("We use the same rationale as described in Considerations section of "),i("a",{attrs:{href:"bip-0049.mediawiki",title:"wikilink"}},[e._v("BIP\n49")]),e._v(".")]),e._v(" "),i("h2",{attrs:{id:"specifications"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#specifications"}},[e._v("#")]),e._v(" Specifications")]),e._v(" "),i("p",[e._v("This BIP defines the two needed steps to derive multiple deterministic\naddresses based on a "),i("a",{attrs:{href:"bip-0032.mediawiki",title:"wikilink"}},[e._v("BIP 32")]),e._v(" root\naccount.")]),e._v(" "),i("h3",{attrs:{id:"public-key-derivation-public-key-derivation"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#public-key-derivation-public-key-derivation"}},[e._v("#")]),e._v(" Public key derivation {#public_key_derivation}")]),e._v(" "),i("p",[e._v("To derive a public key from the root account, this BIP uses the same\naccount-structure as defined in "),i("a",{attrs:{href:"bip-0044.mediawiki",title:"wikilink"}},[e._v("BIP 44")]),e._v("\nand "),i("a",{attrs:{href:"bip-0049.mediawiki",title:"wikilink"}},[e._v("BIP 49")]),e._v(", but only uses a different\npurpose value to indicate the different transaction serialization\nmethod.")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v("m / purpose' / coin_type' / account' / change / address_index\n")])])]),i("p",[e._v("For the "),i("code",[e._v("purpose")]),e._v("-path level it uses "),i("code",[e._v("84'")]),e._v(". The rest of the levels are\nused as defined in BIP44 or BIP49.")]),e._v(" "),i("h3",{attrs:{id:"address-derivation-address-derivation"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#address-derivation-address-derivation"}},[e._v("#")]),e._v(" Address derivation {#address_derivation}")]),e._v(" "),i("p",[e._v("To derive the P2WPKH address from the above calculated public key, we\nuse the encapsulation defined in "),i("a",{attrs:{href:"bip-0141.mediawiki#p2wpkh",title:"wikilink"}},[e._v("BIP\n141")]),e._v(":")]),e._v(" "),i("p",[i("code",[e._v("witness:       <signature>")]),e._v(" "),i("code",[e._v("<pubkey>")]),e._v(" "),i("br"),e._v(" "),i("code",[e._v("scriptSig:    (empty)")]),i("br"),e._v(" "),i("code",[e._v("scriptPubKey: 0 <20-byte-key-hash>")]),i("br"),e._v(" "),i("code",[e._v("(0x0014{20-byte-key-hash})")])]),e._v(" "),i("h3",{attrs:{id:"extended-key-version-extended-key-version"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#extended-key-version-extended-key-version"}},[e._v("#")]),e._v(" Extended Key Version {#extended_key_version}")]),e._v(" "),i("p",[e._v("When serializing extended keys, this scheme uses alternate version\nbytes. Extended public keys use "),i("code",[e._v("0x04b24746")]),e._v(' to produce a "zpub"\nprefix, and private keys use '),i("code",[e._v("0x04b2430c")]),e._v(' to produce a "zprv" prefix.\nTestnet uses '),i("code",[e._v("0x045f1cf6")]),e._v(' "vpub" and '),i("code",[e._v("0x045f18bc")]),e._v(' "vprv."')]),e._v(" "),i("p",[e._v("Additional registered version bytes are listed in\n"),i("a",{attrs:{href:"https://github.com/satoshilabs/slips/blob/master/slip-0132.md",title:"wikilink",target:"_blank",rel:"noopener noreferrer"}},[e._v("SLIP-0132"),i("OutboundLink")],1),e._v(".")]),e._v(" "),i("h2",{attrs:{id:"backwards-compatibility-backwards-compatibility"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#backwards-compatibility-backwards-compatibility"}},[e._v("#")]),e._v(" Backwards Compatibility {#backwards_compatibility}")]),e._v(" "),i("p",[e._v("This BIP is not backwards compatible by design as described under\n[#considerations]. An incompatible wallet will not discover accounts\nat all and the user will notice that something is wrong.")]),e._v(" "),i("h2",{attrs:{id:"test-vectors-test-vectors"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#test-vectors-test-vectors"}},[e._v("#")]),e._v(" Test vectors {#test_vectors}")]),e._v(" "),i("div",{staticClass:"language- extra-class"},[i("pre",[i("code",[e._v("  mnemonic = abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about\n  rootpriv = zprvAWgYBBk7JR8Gjrh4UJQ2uJdG1r3WNRRfURiABBE3RvMXYSrRJL62XuezvGdPvG6GFBZduosCc1YP5wixPox7zhZLfiUm8aunE96BBa4Kei5\n  rootpub  = zpub6jftahH18ngZxLmXaKw3GSZzZsszmt9WqedkyZdezFtWRFBZqsQH5hyUmb4pCEeZGmVfQuP5bedXTB8is6fTv19U1GQRyQUKQGUTzyHACMF\n\n  // Account 0, root = m/84'/0'/0'\n  xpriv = zprvAdG4iTXWBoARxkkzNpNh8r6Qag3irQB8PzEMkAFeTRXxHpbF9z4QgEvBRmfvqWvGp42t42nvgGpNgYSJA9iefm1yYNZKEm7z6qUWCroSQnE\n  xpub  = zpub6rFR7y4Q2AijBEqTUquhVz398htDFrtymD9xYYfG1m4wAcvPhXNfE3EfH1r1ADqtfSdVCToUG868RvUUkgDKf31mGDtKsAYz2oz2AGutZYs\n\n  // Account 0, first receiving address = m/84'/0'/0'/0/0\n  privkey = KyZpNDKnfs94vbrwhJneDi77V6jF64PWPF8x5cdJb8ifgg2DUc9d\n  pubkey  = 0330d54fd0dd420a6e5f8d3624f5f3482cae350f79d5f0753bf5beef9c2d91af3c\n  address = bc1qcr8te4kr609gcawutmrza0j4xv80jy8z306fyu\n\n  // Account 0, second receiving address = m/84'/0'/0'/0/1\n  privkey = Kxpf5b8p3qX56DKEe5NqWbNUP9MnqoRFzZwHRtsFqhzuvUJsYZCy\n  pubkey  = 03e775fd51f0dfb8cd865d9ff1cca2a158cf651fe997fdc9fee9c1d3b5e995ea77\n  address = bc1qnjg0jd8228aq7egyzacy8cys3knf9xvrerkf9g\n\n  // Account 0, first change address = m/84'/0'/0'/1/0\n  privkey = KxuoxufJL5csa1Wieb2kp29VNdn92Us8CoaUG3aGtPtcF3AzeXvF\n  pubkey  = 03025324888e429ab8e3dbaf1f7802648b9cd01e9b418485c5fa4c1b9b5700e1a6\n  address = bc1q8c6fshw2dlwun7ekn9qwf37cu2rn755upcp6el\n")])])]),i("h2",{attrs:{id:"reference"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[e._v("#")]),e._v(" Reference")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"bip-0032.mediawiki",title:"wikilink"}},[e._v("BIP32 - Hierarchical Deterministic\nWallets")])]),e._v(" "),i("li",[i("a",{attrs:{href:"bip-0043.mediawiki",title:"wikilink"}},[e._v("BIP43 - Purpose Field for Deterministic\nWallets")])]),e._v(" "),i("li",[i("a",{attrs:{href:"bip-0044.mediawiki",title:"wikilink"}},[e._v("BIP44 - Multi-Account Hierarchy for Deterministic\nWallets")])]),e._v(" "),i("li",[i("a",{attrs:{href:"bip-0049.mediawiki",title:"wikilink"}},[e._v("BIP49 - Derivation scheme for P2WPKH-nested-in-P2SH based\naccounts")])]),e._v(" "),i("li",[i("a",{attrs:{href:"bip-0141.mediawiki",title:"wikilink"}},[e._v("BIP141 - Segregated Witness (Consensus\nlayer)")])]),e._v(" "),i("li",[i("a",{attrs:{href:"bip-0173.mediawiki",title:"wikilink"}},[e._v("BIP173 - Base32 address format for native v0-16 witness\noutputs")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);